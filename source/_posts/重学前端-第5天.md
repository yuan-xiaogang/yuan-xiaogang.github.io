---
title: 重学前端-第5天
date: 2019-07-23 18:27:44
tags: css3
---

目标：
- css3新增选择器
- 2d转换
- 动画
- 3d转换
- 私有前缀

<!--more-->

### css3属性选择器
```
button[disabled] {
    cursor: default;
}
```
- E[attr] 选择attr属性值的E元素；
- E[attr="val"] 选择attr等于val的E元素；
- E[attr^="val"] 选择attr以val开头的E元素；
- E[attr$="val"] 选择attr以val结尾的E元素；
- E[attr*="val"] 选择attr包含val的E元素；

### css3结构伪类选择器
- E:first-child 匹配父元素中的第一个子元素
- E:last-child 匹配父元素中的最后一个子元素
- E:nth-child(n) 匹配父元素中的第n个子元素； n 可以是even（偶数）、odd（奇数）或者公式（n从0开始）2n+1、2n、n+5（从5开始）、-n+5（前面5个），0或者超出部分会被忽略掉；
- E:first-of-type 匹配父元素中的指定类型的第一个子元素
- E:last-of-type 匹配父元素中的指定类型的最后一个子元素
- E:nth-of-type(n) 匹配父元素中的指定类型的第n个子元素


### css3伪元素选择器
- ::before
- ::after

创建的元素是行内元素；

### 2d转换
transform可以实现元素的位置移动、旋转、缩放等效果；

- translate
    `transform: translate(x,y);` 值：translateX,translateY
    最大的优点：不会影响其他元素的位置；
    百分比是相对于自身的高度和宽度；对行内标签没有效果；
- rotate 旋转
    单位deg；默认中心点是元素的中心点；
    设置中心点： transform-origin: x y; 中心点50% 50%；方位名词： left、right、top、bottom、center；
- scale 缩放
    `transform: scale(x,y);` 
    只有一个参数，是宽高都等比缩放；
    最大的优点：不会影响其他元素的位置，可以设置缩放的中心点；
    设置中心点： transform-origin: x y;

综合写法：
    旋转时会改变坐标轴的方向；建议将位移写到前面；


### 动画
animation
1、先定义好动画
    使用keyframes定义动画
2、调用动画

动画序列可以是百分比，可以是from（0%）、to（100%）；
```
@keyframes move {
            0% {
                transform: translateX(0px);
            }
            25% {
                transform: translateX(1000px);
            }
            50% {
                transform: translateX(1000px) translateY(400px);
            }
            75% {
                transform: translate(0px,400px);
            }
            100% {
                transform: translate(0px,0px);
            }
        }
        
        .out {
            width: 400px;
            height: 400px;
            background: #eee;
            /* 动画名称 */
            animation-name: move;
            /* 动画时间 */
            animation-duration: 2s;
        }
```

常用属性
    - @keyframes 定义动画
    - animation 动画简写，除animation-play-state属性
    - animation-name 动画名称
    - animation-duration 规定完成动画的时间，默认是0；（必填）
    - animation-timing-function 动画曲线 默认ease；linear（匀速）
        linear 匀速
        ease 低速开始，然后加速，结束前减速
        ease-in 低速开始
        ease-out 低速结束
        ease-in-out 低速开始和结束
        steps(n) 指定了时间函数中的间隔数量（步长）；分几步完成动画；打字机效果；
    - animation-delay 规定动画从何时开始
    - animation-iteration-count 默认为1，可以是infinite
    - animation-direction 规定动画下一个周期逆向播放，默认是normal，alternate（逆播放）
    - animation-play-state 规定动画是否正在运行或者暂停 默认running ，还有pause
    - animation-fill-mode 规定动画结束后状态， 保持forwards 回到初始 backwards（默认）

动画简写： 动画名称 持续时间 运动曲线 何时开始 播放次数 是否反方向 动画起始或者结束状态,动画名称 持续时间 运动曲线 何时开始 播放次数 是否反方向 动画起始或者结束状态；
前2个是不能省略；
可以添加多个动画，以逗号隔开

### 3d转换

特点：近大远小；物体后面遮挡不可见；

x轴 水平向右
y轴 垂直向下
z轴 垂直屏幕 往外是正值，往里是负值；z轴就是物体距离屏幕的距离；


#### 3d位移 translate3d(x,y,z)

translateZ(10px) 一般跟px单位；

#### 3d旋转 rotate3d(x,y,z)
- rotateX(45deg) 沿着x轴旋转； 左手法则
- rotateY(45deg) 沿着y轴旋转；
- rotateZ(45deg) 沿着z轴旋转；
- rotate3d(x,y,z,45deg) 沿着自定义轴旋转；


#### 透视 perspective
模拟人的眼睛去观察；视距；人的眼睛到屏幕的距离；
视距离电脑越近，成像越大，越远，成像越小；
单位是像素；
透视写在被观察盒子的父盒子上面；
z轴越大，成像越大，z轴越小，成像越小；

`perspective: 500px;`


#### 3d呈现 transform-style

控制子元素是否开启三维立体环境；
默认是不开启的；
`transform-style: preserve-3d;`
添加到父盒子上；

例子：
```
body {
            perspective: 1000px;
        }
        
        @keyframes move {
            50% {
                transform: rotateY(180deg);
            }
            100% {
                transform: rotateY(360deg);
            }
        }
        
        .out {
            width: 200px;
            height: 200px;
            position: relative;
            margin: 300px auto;
            transition: all 1s;
            transform-style: preserve-3d;
            animation: move 2s linear infinite forwards;
        }
        
        .out:hover {
            /* transform: rotateY(180deg); */
            animation-play-state: paused;
        }
        
        .zheng,
        .fan {
            position: absolute;
            width: 100%;
            height: 100%;
            font-size: 30px;
            font-weight: 900;
            text-align: center;
            line-height: 200px;
            border-radius: 50%;
        }
        
        .zheng {
            background: pink;
            z-index: 3;
        }
        
        .fan {
            background: #ddd;
            transform: rotateY(180deg);
            z-index: 2;
        }
```

### 私有前缀
兼容老版本的浏览器；
`-moz-` 兼容火狐 
`-ms-` 兼容ie 
`-webkit-` 兼容safari 、chrome 
`-o-` 兼容Opera 